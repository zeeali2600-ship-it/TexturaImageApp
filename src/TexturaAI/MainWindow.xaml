<Window
    x:Class="TexturaAI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TexturaAI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel Spacing="20" MaxWidth="800" HorizontalAlignment="Center">
                
                <!-- App Title -->
                <TextBlock Text="Textura AI" FontSize="32" FontWeight="Bold" HorizontalAlignment="Center" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                <TextBlock Text="AI-Powered Text to Image Generator" FontSize="16" HorizontalAlignment="Center" Opacity="0.8"/>
                
                <!-- Free Trial Status -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        CornerRadius="8" Padding="15">
                    <TextBlock x:Name="FreeCountTextBlock" 
                               Text="Free Generations Remaining: 3" 
                               FontSize="16" 
                               HorizontalAlignment="Center"
                               FontWeight="SemiBold"/>
                </Border>

                <!-- Text Input Section -->
                <StackPanel Spacing="10">
                    <TextBlock Text="Describe the image you want to generate:" FontSize="16" FontWeight="SemiBold"/>
                    <TextBox x:Name="PromptTextBox" 
                             PlaceholderText="Example: A beautiful sunset over mountains with purple sky..."
                             Height="80" 
                             TextWrapping="Wrap"
                             AcceptsReturn="True"/>
                </StackPanel>

                <!-- Action Buttons -->
                <StackPanel Orientation="Horizontal" Spacing="15" HorizontalAlignment="Center">
                    <Button x:Name="GenerateButton" 
                            Content="Generate Image" 
                            Click="GenerateButton_Click"
                            Style="{ThemeResource AccentButtonStyle}"
                            MinWidth="150"
                            FontSize="16"/>
                    
                    <Button x:Name="SubscribeButton" 
                            Content="Get Premium Subscription" 
                            Click="SubscribeButton_Click"
                            MinWidth="200"
                            FontSize="14"/>
                </StackPanel>

                <!-- Loading Indicator -->
                <StackPanel Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center">
                    <ProgressRing x:Name="LoadingProgressRing" IsActive="False" Width="20" Height="20"/>
                    <TextBlock x:Name="StatusTextBlock" 
                               Text="Ready to generate your first image!" 
                               FontSize="14" 
                               HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- Generated Image Display -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        CornerRadius="12" 
                        Padding="20"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Generated Image:" FontSize="16" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                        <Border CornerRadius="8" 
                                Background="{ThemeResource LayerFillColorDefaultBrush}"
                                MinHeight="300"
                                HorizontalAlignment="Center">
                            <Image x:Name="GeneratedImage" 
                                   MaxWidth="400" 
                                   MaxHeight="400"
                                   Stretch="Uniform"/>
                        </Border>
                        <TextBlock Text="Your generated image will appear here" 
                                   FontSize="12" 
                                   Opacity="0.6" 
                                   HorizontalAlignment="Center"
                                   x:Name="PlaceholderText"/>
                    </StackPanel>
                </Border>

                <!-- Debug Section (for testing - remove in production) -->
                <Border Background="{ThemeResource SystemFillColorCautionBackgroundBrush}" 
                        CornerRadius="8" 
                        Padding="15"
                        Opacity="0.7">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Debug Controls (Testing Only)" FontSize="14" FontWeight="Bold"/>
                        <Button x:Name="ResetTrialButton" 
                                Content="Reset Trial for Testing" 
                                Click="ResetTrialButton_Click"
                                FontSize="12"/>
                    </StackPanel>
                </Border>

                <!-- App Info -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        CornerRadius="8" 
                        Padding="15"
                        Margin="0,20,0,0">
                    <StackPanel Spacing="8">
                        <TextBlock Text="How it works:" FontWeight="SemiBold"/>
                        <TextBlock Text="• Enter a text description of the image you want" FontSize="14" Opacity="0.8"/>
                        <TextBlock Text="• Get 3 free image generations to try the service" FontSize="14" Opacity="0.8"/>
                        <TextBlock Text="• Subscribe through Microsoft Store for unlimited access" FontSize="14" Opacity="0.8"/>
                        <TextBlock Text="• Powered by advanced AI image generation technology" FontSize="14" Opacity="0.8"/>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>